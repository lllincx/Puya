### Version

| **Version** | **Date**  | **Author** | **Note**                                        |
| ----------- | --------- | ---------- | ----------------------------------------------- |
| 1.0         | 2025.8.26 | @林晨希    | Relocation from TrustEngine Introduction Slides |
|             |           |            |                                                 |
|             |           |            |                                                 |
### Flowchart

```
+-------------------+
|   Entropy Source  |
+-------------------+
          |
          v
+-------------------+
|  Sampling block   |
+-------------------+
          |
          v
+-------------------+
|  Post Processing  |
+-------------------+
          |
          v
+-------------------+
| Evaluation & test |
+-------------------+
          |
          v
+-------------------+
| Random number pool|
+-------------------+

```

真随机数生成器 TRNG 的基本思想是使用低频时钟对快速切换信号进行采样。
- **熵源**：提供高速翻转信号，内部熵源由环形振荡器产生，也可以选择外部熵源。
- **采样模块**：利用同步电路，将熵源输出用低频时钟锁存。
- **后处理模块**：对生成的真随机数随机性改进，可选的后处理方法有 VN（冯诺依曼），CRNG，PRNG 三种方法。
- **评估测试模块**：依据标准对数据进行复杂检查，可以选择自相关测试，重复计数测试，自适应比例测试，可自定阈值并向主机提供反馈，从而确定是否重新生成随机数
- 最后将数据存入随机数池。

### Optional Post Processing Method

| 特性     | VN (Von Neumann) | CRNG (Cryptographic-RNG)                   | PRNG (Pseudo-RNG)              |
| -------- | ---------------- | ------------------------------------------ | ------------------------------ |
| 偏差消除 | 严格消除偏差     | 视算法选择，可消除并提升熵                 | 不具备专门解偏功能             |
| 安全性   | 仅统计解偏       | 满足下一个比特预测难度，状态泄露安全等要求 | 不保证密码学安全，仅统计特性   |
| 吞吐率   | 低               | 通常中等，可调参数平衡安全与性能           | 高                             |
| 实现方式 | 硬件或软件均可   | 多为软件（或软硬结合），依赖密码学库       | 纯软件                         |
| 复现性   | 否               | 否（依赖真实熵）或种子后可预测             | 是（可重复，可用于模拟与测试） |

### Evaluation Method (NIST SP 800-90B)

| autocorrrlation | repetition count | adaptive proportion |
| --------------- | ---------------- | ------------------- |
| 自相关测试      | 重复计数测试     | 自适应比例测试      |

### Sample

![image.png     | 1000](https://lincx-img.oss-cn-shanghai.aliyuncs.com/img/20250827104423064.png)
