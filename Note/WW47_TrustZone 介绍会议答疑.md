### Flash 编程支持（Flash programming support）放置在安全世界的必要性

- **保护系统完整性** ：防止非安全世界的恶意软件篡改或替换安全世界本身的代码（如安全 OS、安全服务）。
- **保护信任根** ：确保安全启动加载程序 (Secure Bootloader) 不被替换，这是系统信任的起点。
- **保护机密资产** ：防止非安全世界窃取、擦除或修改 Flash 中的秘密密钥、证书等高价值数据。
- **防止关键代码被破坏** ：避免非安全世界的攻击擦除引导代码或安全固件，导致系统无法正常运行。
- **执行安全边界** ：将 Flash 写入权限收归安全世界，是强制执行 TrustZone 硬件隔离、防止非安全世界越权的根本要求。

### Flash 编程支持（Flash programming support）和安全引导加载程序（Secure boot loader）的关系

- 两者工作时间不同：bootloader 运行在启动时，flash program 运行在系统已经正常运行后，当需要更新固件时（例如 OTA 更新）
- flash program是可以更新bootloader 的工具

### 在非安全代码中发生安全中断的安全性

在非安全代码中发生安全中断的风险在于，安全中断服务函数中可能存在的安全信息是否会被泄露到非安全世界，这以风险将在安全中断结束后，返回非安全代码时发生。
返回时，处理器会执行一个“unstacking”或“pop”操作，从堆栈中恢复原有非安全程序的通用寄存器组，`LR, PC, xPSR`覆盖掉安全中断代码中的安全信息。

### ARMv8-M共享寄存器组的范围

R0-R12